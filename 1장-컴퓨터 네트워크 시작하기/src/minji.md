# 컴퓨터 네트워크를 알아야 하는 이유

## 네트워크의 네트워크, 인터넷

- 컴퓨터 네트워크(네트워크): 여러 개의 장치가 마치 그물처럼 서로 연결되어 정보를 주고받을 수 있는 통신망
- 인터넷: 여러 네트워크를 연결한 네트워크의 네트워크

<br/><br/>

## 개발자가 컴퓨터 네트워크를 알아야 하는 이유

- 프로그램을 만드는 업무에서 사용
  - 프로그래밍 언어, 웹 프레임워크, 라이브러리를 사용할 때 네트워크에 대한 배경지식이 있어야 활용할 수 있는 기능들이 있음
  - 개발한 제품을 배포할 때 DNS, HTTP/HTTPS, 포트 번호 등 배경지식이 필요함
  - 프로그램의 안전성과 안정성을 높이고 싶을 때 유용함
- 프로그램을 유지보수하는 업무에서 사용
  - 프로그램에서 문제 발생 시 네트워크 지식이 해결의 큰 실마리가 되어줄 수 있음

<br/><br/><br/><br/>

# 네트워크 거시적으로 살펴보기

## 네트워크의 기분 구조

- 모든 네트워크는 노드, 간선, 메시지(노드 간 주고 받는 것)로 구성됨
- 노드: 정보를 주고받을 수 있는 장치
- 간선: 정보를 주고받을 수 있는 유무선의 통신 매체

### 호스트

네트워크에 흐르는 정보를 최초로 생성 및 송신하고 최종적으로 수신하는 가장자리 노드

- 서버 컴퓨터, 개인 데스크톱, 노트북 등이 될 수 있음
- 호스트가 네트워크에서 특정한 역할을 수행하기도 함 -> 대표적으로 서버, 클라이언트
  - 서버: 어떠한 서비스(파일, 웹 페이지, 메일 등)를 제공하는 호스트
  - 클라이언트: 서버에 어떠한 서비스를 요청하고 서버의 응답을 제공받는 호스트

### 네트워크 장비

호스트 간 주고받을 정보가 중간에 거치는 노드들

- 이더넷 허브, 스위치, 라우터, 공유기 등
- 호스트 간 주고받는 정보가 수신지까지 안정적이고 안전하게 전송될 수 있도록 함

### 통신 매체

노드를 연결하는 간선

- 유선 매체와 무선 매체가 있음

### 메시지

노드가 주고받는 정보

- 웹 페이지, 파일, 메일 등이 될 수 있음

<br/><br/>

## 범위에 따른 네트워크 분류

형성된 네트워크의 범위(국가 단위, 가정 단위, 기업 단위 등)에 따른 분류 방식

- LAN < CAN < MAN < WAN
- LAN(Local Area Network): 가까운 지역을 연결한 근거리 통신망으로 가정, 기업, 학교 등의 한정된 공간에서의 네트워크를 의미함
- WAN(Wide Area Network): 먼 지역을 연결하는 광역 통신망으로 인터넷이 해당
  - 같은 LAN 에 속한 호스트끼리는 WAN 이 필요 없지만 다른 LAN 에 속한 호스트면 WAN 이 필요함
  - 인터넷 사용을 위해 접속하는 WAN 은 ISP(Internet Service Provider) 라는 인터넷 서비스 엄체가 구축하고 관리함
- CAN(Campus Area Network): 학교 또는 회사의 여러 건물 단위로 연결되는 네트워크
- MAN(Metropolitan Area Network): 도시나 대도시 단위로 연결되는 네트워크

<br/><br/>

## 메시지 교환 방식에 따른 네트워크 분류

### 회선 교환 방식

메시지 전송로인 회선(circuit)을 설정하고 이를 통해 메시지를 주고받는 방식

- ex. 전통적인 전화망
- 회선 스위치: 호스트 사이 일대일 전송로를 확보하는 네트워크 장비
- 장점: 두 호스트 사이 연결을 확보한 후 메시지를 주고받는 특성 때문에 주어진 시간 동안 전송된 정보의 양이 비교적 일정함
- 단점: 메시지를 주고받지 않으면서 회선을 점유하므로 회선의 이용 효율이 낮아질 수 있음

### 패킷 교환 방식

메시지를 패킷이라는 작은 단위로 쪼개어 전송하는 방식

- ex. 현대 인터넷
- 패킷 스위치: 패킷이 수신지까지 올바르게 도달할 수 있도록 최적의 경로를 결정하거나 패킷의 송수신자를 식별함(ex. 라우터, 스위치)
- 장점: 네트워크 이용 효율이 상대적으로 높음

### 패킷 구성

- 페이로드: 패킷을 통해 전송하고자 하는 데이터
- 헤더: 패킷 앞에 붙는 부가 정보
- 트레일러: 패킷 뒤에 붙는 부가 정보
- 패킷은 헤더+페이로드로 구성되고 때로는 헤더+페이로드+트레일러로 구성

### 주소와 송수신지 유형에 따른 전송 방식

- 주소를 통해 송수신지를 특정함
- 유니캐스트: 하나의 수신지에 메시지를 전송하는 방식
- 브로드캐스트: 자신을 제외한 네트워크 상의 모든 호스트에게 전송하는 방식
  - 브로드캐스트 도메인: 브로드캐스트가 전송되는 범위
- 멀티캐스트: 네트워크 내의 동일 그룹에 속한 호스트에게만 전송하는 방식
- 애니캐스트: 네트워크 내의 동일 그룹에 속한 호스트 중 가장 가까운 호스트에게만 전송하는 방식

<br/><br/><br/><br/>

# 네트워크 미시적으로 살펴보기

## 프로토콜

노드 간에 정보를 올바르게 주고받기 위해 합의된 규칙이나 방법

- 프로토콜에는 목적과 특징이 있음
- 프로토콜 마다 헤더 내용이 달라질 수 있고, 헤더가 없는 프로토콜도 존재함
- IP, ARP, TCP, UDP, HTTP, HTTPS 등

## 네트워크 참조 모델(네트워크 계층 모델)

- 통신 과정을 계층으로 나누었기 때문에 각 계층이 수행할 역할이 정해져 있으므로 네트워크 구성과 설계가 용이함
  - 모든 프로토콜이나 네트워크 장비가 참조 모델과 완벽히 들어 맞는 것은 아님
- 통신 과정에 문제가 발생하더라도 네트워크 문제 진단과 해결이 용이함
  - 1계층부터 윗계층까지 차례대로 살펴보면서 문제 발생 시점을 추측할 수 있음

### OSI 모델

국제 표준화 기구에서 만든 네트워크 참조 모델로 통신 단계를 7단계 계층으로 구분

1. 물리 계층

- OSI 모델 최하단의 계층
- 1과 0으로 표현되는 비트 신호를 주고 받는 계층
- 통신 매체에 따라 전기, 빛, 전파 등의 신호로 운반될 수 있음

2. 데이터 링크 계층

- 네트워크 내 주변 장치 간의 정보를 올바르게 주고받기 위한 계층
- 물리 계층을 통해 주고 받는 정보에 오류를 확인
- 이더넷을 비롯한 LAN 기술이 데이터 링크 계층에 녹아 있음
- MAC 주소라는 주소 체계를 통해 네트워크 내 송수신지를 특정할 수 있음
- 전송 과정에서의 충돌 문제를 해결함

3. 네트워크 계층

- 메시지를 다른 네트워크에 속한 수신지까지 전달하는 계층
- IP 주소라는 주소 체계를 통해 통신하고자 하는 수신지 호스트와 네트워크를 식별함
- 원하는 수신지에 도달하기 위한 최적의 경로를 결정함

4. 전송 계층

- 신뢰성 있고 안정성 있는 전송을 해야할 때 필요한 계층
- 패킷이 정상적으로 보내졌는지, 유실된 건 없는지, 순서가 바뀐 것은 없는지 등을 확인하여 신뢰성 있고 안정적인 전송이 이루어지도록 함
- 포트라는 정보를 통해 실행중인 응용 프로그램의 식별이 이루어지기도 함

5. 세션 계층

- 세션: 통신을 주고받는 호스트의 응용 프로그램 간 연결 상태
- 세션을 유지하고, 종료되었을 때 끊어주는 역할을 담당

6. 표현 계층

- 문자를 기계어로 변환함
- 압축, 암호화 같은 작업이 이루어짐

7. 응용 계층

- OSI 모델 최상단의 계층
- 사용자 및 응용 프로그램과 가장 밀접히 맞닿아 있는 계층
- 웹 브라우저 프로그램에 웹 페이지를 제공하거나 이메일 클라이언트 프로그램에 송수신된 이메일을 제공하는 등 실질적인 네트워크 서비스가 제공됨
- 응용 프로그램에 다양한 서비스가 제공될 수 있는 만큼 타 계층에 비해 응용 계층에 속한 프로토콜이 많음

### TCP/IP 모델

OSI 모델이 이론적으로 네트워크를 기술하고 이해할 때 사용하는 것과 달리 구현에 중점을 둔 네트워크 참조 모델<br/>

- TCP, IP 라는 프로토콜이 오늘날 네트워크 구현의 핵심으로 간주되어 해당 이름이 붙게 되었고 인터넷 프로토콜 스위트, TCP/IP 4계층, TCP/IP 프로토콜 스택이라고도 함
- 프로토콜 스위트/프로토콜 스택: 다양한 계층의 프로토콜 집합

1. 네트워크 액세스 계층(링크 계층/네트워크 인터페이스 계층)

- OSI 모델의 데이터 링크 계층과 유사
- TCP/IP 에서는 물리 계층에 해당하는 개념이 없다고 보는 견해도 있고 전통적인 TCP/IP 모델에서의 최하위 계층은 데이터 링크 계층 역할을 수행하는 쪽에 가까웠음 -> 물리 계층을 추가해서 5계층으로 설명하기도 함

2. 인터넷 계층

- OSI 모델의 네트워크 계층과 유사

3. 전송 계층

- OSI 모델의 전송 계층과 유사

4. 응용 계층

- OSI 모델의 세션 계층, 표현 계층, 응용 계층을 합친 것과 유사

<br/><br/>

## 캡슐화와 역캡슐화

패킷은 송신과정에서 캡슐화가 이루어지고 수신과정에서 역캡슐화가 이루어짐

- 캡슐화(인캡슐레이션): 위 계층으로부터 받은 패킷에 헤더 및 트레일러를 추가해 나가는 과정
- 역캡슐화(디캡슐레이션): 캡슐화 과정에서 붙였던 헤더(및 트레일러)를 각 계층에서 확인한 뒤 제거하는 과정

<br/><br/>

## PDU(Protocol Data Unit)

각 계층에서 송수신되는 메시지의 단위
|OSI 계층|PDU|
|--|--|
|응용 계층|데이터(data), 메시지(message)|
|표현 계층|데이터(data)|
|세션 계층|데이터(data)|
|전송 계층|세그먼트(segment), 데이터그램(datagram)|
|네트워크 계층|패킷(packet), IP 데이터그램(IP datagram)|
|데이터 링크 계층|프레임(frame)|
|물리 계층|비트(bit), 심볼(symbol)|

- 전송 계층에서 TCP 프로토콜이 사용됐다면 세그먼트, UDP 프로토콜이 사용됐다면 데이터그램이 됨
- 패킷은 패킷 교환 네트워크에서 쪼개어져 전송되는 단위를 통칭하기 위한 용어로도 쓰지만 네트워크 계층에서의 송수신 단위를 지칭하기위해서도 사용함

<br/><br/>

## 트래픽과 네트워크 성능 지표

- 트래픽: 네트워크 내 정보량. 특정 노드에 트래픽이 몰리면 과부하가 생길 수 있음

### 성능 지표

- 처리율(throughput): 단위 시간당 네트워크를 통해 실제로 전송되는 정보량.
  - bps(bits per second), Mbps(megabits per second), Gbps(gigabits per second) 단위로 표현
  - pps(packets per second): 초당 패킷 수
- 대역폭(bandwidth): 단위 시간 동안 통신 매체를 통해 송수신할 수 있는 최대 정보량
  - bps, Mbps, Gbps 단위 사용
- 패킷 손실(packet loss): 패킷이 손실된 상황
  - 높은 트래픽으로 인해 노드가 순간적으로 처리해야할 패킷이 너무 많아지거나, 네트워크 상에 예기치 못한 장애가 발생해서 패킷을 처리하지 못할 때 패킷이 손실될 수 있음
  - 전체 패킷 중 유실된 패킷을 백분위로 표현한 값을 사용하는 경우가 많음
